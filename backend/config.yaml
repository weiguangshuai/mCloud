server:
  port: 8080
  host: 0.0.0.0  # 允许局域网访问

database:
  host: "localhost"
  port: 3306
  username: "root"
  password: "root"
  database: "mcloud"
  charset: "utf8mb4"
  max_idle_conns: 10
  max_open_conns: 100

storage:
  base_path: "D:/MyCloudStorage"  # 用户指定的存储路径
  max_file_size: 1073741824       # 1GB
  allowed_extensions: ["*"]        # 允许所有文件类型
  chunk_size: 5242880             # 分片大小 5MB
  chunk_upload_threshold: 5242880 # 大于5MB的文件启用分片上传
  default_user_quota: 10737418240      # 默认用户配额10GB
  temp_file_cleanup_interval: 3600     # 临时文件清理间隔（秒）
  temp_file_retention: 86400           # 临时文件保留时间（秒）

redis:
  host: "localhost"
  port: 6379
  password: ""                    # Redis 密码（如果设置）
  db: 0                           # 数据库编号
  upload_task_expire: 86400       # 上传任务过期时间（24小时）

jwt:
  secret: "your-secret-key-change-in-production"
  expire_hours: 168  # 7天
  refresh_expire_hours: 672 # 28天

auth_cookie:
  access_name: "access_token"
  refresh_name: "refresh_token"
  http_only: true
  same_site: "Lax"
  secure: false                    # 内网可为false，公网建议true
  path: "/"

csrf:
  enabled: true
  header_name: "X-CSRF-Token"
  cookie_name: "csrf_token"

thumbnail:
  width: 300
  height: 300
  quality: 85
  async_generation: true               # 是否异步生成
  worker_count: 4                      # worker数量
  retry_max: 3                         # 失败重试次数

recycle_bin:
  enabled: true                        # 是否启用回收站
  retention_days: 30                   # 回收站保留天数
  cleanup_interval: 86400              # 清理间隔（秒）
  max_items_per_user: 1000             # 每用户最大项目数

pagination:
  default_page_size: 20                # 默认每页数量
  max_page_size: 100                   # 最大每页数量
  default_sort_by: "created_at"        # 默认排序字段
  default_order: "desc"                # 默认排序方向

health_check:
  enabled: true                        # 是否启用健康检查
  endpoint: "/api/health"              # 健康检查端点
  timeout_ms: 5000                     # 超时时间（毫秒）
